# Don't repeat yourself

Define templates when you need to repeat the same layout more than once.

For example

**Name**: John

**Title**: Software Engineer

**Current Project**: BBR
 
**Team**: Team A
\
\
Second copy & paste
\
\
**Name**: Sathish

**Title**: Software Engineer

**Current Project**: BBR
 
**Team**: Team A 

# Definition

Instead define a template in a separate file.

We use [FreeMarker](http://freemarker.org) template engine.
 
:include-file: templates/job.md


Insert it using fenced block syntax. Content inside of fenced block is treated as key/values. 

    ```template templates/job.md
    name: Sathish
    title: Software Engineer
    ```
    
Result is rendered below
    
```template templates/job.md
name: Sathish
title: Software Engineer
```

# Inlined

Consider inlined template if you don't need to pass a lot of text as parameters to the template 

    :include-template: templates/arg-definition.md {name: "Arg Name", description: "Description of the argument"}
    
    :include-template: templates/arg-definition.md {name: "Other Name", optional: true, description: "Yet another description of the argument"}
    
*templates/arg-definition.md*

:include-file: templates/arg-definition.md
    
:include-template: templates/arg-definition.md {name: "Arg Name", description: "Description of the argument"}

:include-template: templates/arg-definition.md {name: "Other Name", optional: true, description: "Yet another description of the argument"}

# External Parameters

Template can get parameters from an external file.
File can be either manually created or generated by a script or test.

Consider external json file

:include-file: artifacts/generated-values.json

and a template 

:include-file: templates/test-artifact.md

Include a template and use parameters from the file

    :include-template: templates/test-artifact.md {paramsPath: "artifacts/generated-values.json"}
    
:include-template: templates/test-artifact.md {paramsPath: "artifacts/generated-values.json"}

# Loops

We can loop over list of parameters using [FreeMarker loop](http://freemarker.org/docs/ref_directive_list.html)

Consider external file

:include-file: artifacts/names.json

and a template  

:include-file: templates/multiple-arg-definition.md


    :include-template: templates/multiple-arg-definition.md {paramsPath: "artifacts/names.json"}

:include-template: templates/multiple-arg-definition.md {paramsPath: "artifacts/names.json"}
